<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NMR Bloch Sphere Simulator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>NMR Bloch Sphere Simulator</h1>
    <p>This demo models a two-level spin in a static magnetic field with longitudinal (T1) and transverse (T2) relaxation.  Use your microphone input to drive an xâ€‘polarized RF field; louder audio produces stronger pulses.</p>
    <canvas id="bloch" width="500" height="500"></canvas>
    <div class="controls">
        <button id="start">Start</button>
        <label for="scale">Drive scale</label>
        <input id="scale" type="range" min="0" max="50" step="0.1" value="10">
        <span id="scale-val">10</span>
        <br>
        <button id="tone-btn">Hold for tone</button>
        <label for="tone-vol">Tone volume</label>
        <!-- amplitude w1; initial value pi for 1s pi pulse -->
        <input id="tone-vol" type="range" min="0" max="5" step="0.01" value="1">
        <span id="tone-val">1</span>
        <br>
        <label><input type="checkbox" id="mic-toggle" checked> Mic drive</label>
        <br>
        <label><input type="checkbox" id="frame-toggle" checked> Rotating frame</label>
        <br>
        <label for="t1-slider">T1 (s)</label>
        <input id="t1-slider" type="range" min="-1" max="2" step="0.01" value="0">
        <span id="t1-val">1</span>
        <label for="t2-slider">T2 (s)</label>
        <input id="t2-slider" type="range" min="-1" max="2" step="0.01" value="-0.3">
        <span id="t2-val">0.5</span>
    </div>
    <div id="info"></div>
    <script src="script.js"></script>
</body>
</html>